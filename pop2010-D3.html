<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
<style>
				body {
								font-family: Helvetica;
				}
				svg {
								width: 500px;
								height: 500px;
				}
				.top-label {
								font-size: 13px;
								font-style: italic;
								text-transform: uppercase;
								float: left;
				}
				.age-label {
								text-align: right;
								font-weight: bold;
								width: 90px;
								padding-right: 10px;
				}
				.clearfix {
								clear: both;
				}
				.bar {
								fill: DarkSlateBlue;
				}
				.bar-label {
								text-anchor: end;
				}
				.axis-label {
								text-anchor: middle;
								font-size: 13px;
				}
</style>
</head>
<body>
	<script src="http://d3js.org/d3.v3.min.js"></script>
	<script>
		var body = d3.select("body");

		body.append("h2")
				.text("Age distribution of the world, 2010");

		body.append("div")
				.attr("class", "top-label age-label")
			.text("age group");

		body.append("div")
				.attr("class", "top-label")
			.text("portion of the population");

		body.append("div")
				.attr("class", "clearfix");

		var svg = body.append("svg");

		var popData = [1.6, 1.5, 2.1, 2.6, 3.4, 4.5, 5.1, 6.0, 6.6, 7.1, 7.3, 8.1,
					   8.9, 8.8, 8.6, 8.8, 9.3];

		var width = 400,
			scaleFactor = width / popData[16];

		var barHeight = 20,
			barGap = 5,
			barSpacing = barHeight + barGap;

		var barGroup = svg.append("g")
				.attr("transform", "translate(100,30) scale(" + scaleFactor + ",1)")
				.attr("class", "bar");

		for (var i = 0; i < popData.length; i++) {
			barGroup.append("rect")
				.attr("x", 0)
				.attr("y", i * barSpacing)
				.attr("height", barHeight)
				.attr("width", popData[i]);
		}

		var barLabelGroup = svg.append("g")
				.attr("class", "bar-label")

		barLabelGroup.append("text")
				.attr("x", 90)
				.attr("y", 45)
				.text("80+");

		barLabelGroup.append("text")
				.attr("x", 90)
				.attr("y", 70)
				.text("75-79");

		barLabelGroup.append("text")
				.attr("x", 90)
				.attr("y", 95)
				.text("70-74");

		barLabelGroup.append("text")
				.attr("x", 90)
				.attr("y", 120)
				.text("65-69");

		barLabelGroup.append("text")
				.attr("x", 90)
				.attr("y", 145)
				.text("60-64");

		barLabelGroup.append("text")
				.attr("x", 90)
				.attr("y", 170)
				.text("55-59");

		barLabelGroup.append("text")
				.attr("x", 90)
				.attr("y", 195)
				.text("50-54");

		barLabelGroup.append("text")
				.attr("x", 90)
				.attr("y", 220)
				.text("45-49");

		barLabelGroup.append("text")
				.attr("x", 90)
				.attr("y", 245)
				.text("40-44");

		barLabelGroup.append("text")
				.attr("x", 90)
				.attr("y", 270)
				.text("35-39");

		barLabelGroup.append("text")
				.attr("x", 90)
				.attr("y", 295)
				.text("30-34");

		barLabelGroup.append("text")
				.attr("x", 90)
				.attr("y", 320)
				.text("25-29");

		barLabelGroup.append("text")
				.attr("x", 90)
				.attr("y", 345)
				.text("20-24");

		barLabelGroup.append("text")
				.attr("x", 90)
				.attr("y", 370)
				.text("15-19");

		barLabelGroup.append("text")
				.attr("x", 90)
				.attr("y", 395)
				.text("10-14");

		barLabelGroup.append("text")
				.attr("x", 90)
				.attr("y", 420)
				.text("5-9");

		barLabelGroup.append("text")
				.attr("x", 90)
				.attr("y", 445)
				.text("0-4");

		var axisTickGroup = svg.append("g")
				.attr("transform", "translate(100,30)")
				.attr("stroke", "black");

		axisTickGroup.append("line")
				.attr("x1", 0)
				.attr("y1", 0)
				.attr("x2", 0)
				.attr("y2", -10);

		axisTickGroup.append("line")
				.attr("x1", 107.75)
				.attr("y1", 0)
				.attr("x2", 107.75)
				.attr("y2", -10);

		axisTickGroup.append("line")
				.attr("x1", 215.5)
				.attr("y1", 0)
				.attr("x2", 215.5)
				.attr("y2", -10);

		axisTickGroup.append("line")
				.attr("x1", 323.25)
				.attr("y1", 0)
				.attr("x2", 323.25)
				.attr("y2", -10);

		var axisLabelGroup = svg.append("g")
				.attr("transform", "translate(100,30")
				.attr("class", "axis-label");

		axisLabelGroup.append("text")
				.attr("x", 0)
				.attr("y", -15)
				.text("0");

		axisLabelGroup.append("text")
				.attr("x", 107.75)
				.attr("y", -15)
				.text("2.5%");

		axisLabelGroup.append("text")
				.attr("x", 215.5)
				.attr("y", -15)
				.text("5.0%");

		axisLabelGroup.append("text")
				.attr("x", 323.25)
				.attr("y", -15)
				.text("7.5%");
	</script>
</body>
</html>






